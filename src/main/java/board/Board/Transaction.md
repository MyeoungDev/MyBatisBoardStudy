# 트랜잭션 (Transaction)이란?
트랜잭션은 쉽게 이야기해서 하나의 작업에 여러 개의 작업이 같이 묵여 있는 것이다.

###ex) A가 B에게 50,000원을 보내야 하는 상황

---
### 1. A가 B의 은행 계좌, 그리고 이체할 금액을 입력한다.
### 2. A의 계좌에서 50,000원이 출금된다.
### 3. B의 계좌에 50,000원이 입금된다.
### 4. A -> B 의 계좌 이체가 완료된다.

---
만약 A의 계좌에서 50,000원은 출금 되었지만 B의 계좌에는 입금되지 않았다면?

A와 B 모두 큰 피해를 입게된다.

위의 상황이라면 당연히 50,000원은 다시 복구 되어야 한다.

이렇듯 2번과 3번이 묶여있는 상황을 트랜잭션이라 생각 할 수 있다.

---




## 트랜잭션 (Transaction)의 기본 원칙

| 특성 | 내용 |
| --- | --- |
| 원자성 (Atomicitiy) | 하나의 트랜잭션은 모두 하나의 작업 단위로 처리되어야 한다. <br><br> 트랜잭션 A, B, C로 구성된다면, A, B, C의 처리 결과는 모두 동일해야 한다. <br><br> 하나라도 실패했을 경우에는 세 가지 모두 처음 상태로 돌아가야 한다.
| 일관성 (Consistency) | 트랜잭션이 성공했다면 데이터베이스의 모든 데이터는 일관성을 유지해야 한다. | 
| 고립성 (Isolation) | 트랜잭션은 독립적으로 처리되며, 처리되는 중간에 외부에서의 간섭은 없어야 한다. |
| 지속성 (Durability) | 트랜잭션은 독립적으로 처리되면, 그 결과는 지속적으로 유지되어야 한다. | 

## 트랜잭션 (Transaction) 설정하기

스프링에서 트랜잭션은 데이터베이스, 코드 기반, 선언적 트랜잭션 처리를 지원한다.

설정 방법으로는 XML 설정, 애너테이션 설정, AOP 설정으로 나눌 수 있다.

